/**
 * @license JustMath.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/JustMath.js for details
 */
(function(global,Math){"use strict";var JustMath={};JustMath.PI=Math.PI;JustMath.SQRT2=Math.SQRT2;JustMath.SQRT1_2=Math.SQRT1_2;JustMath.abs=Math.abs;JustMath.min=Math.min;JustMath.max=Math.max;JustMath.floor=Math.floor;JustMath.ceil=Math.ceil;JustMath.round=Math.round;JustMath.sqrt=Math.sqrt;JustMath.sq=function(n){return n*n};JustMath.pow=Math.pow;JustMath.sin=Math.sin;JustMath.cos=Math.cos;JustMath.tan=Math.tan;JustMath.cot=function(a){return 1/JustMath.tan(a)};JustMath.asin=Math.asin;JustMath.acos=Math.acos;JustMath.atan=Math.atan;JustMath.atan2=Math.atan2;JustMath.random=Math.random;var Vec2=function Vec2(vOrX,y){this.x=0;this.y=0;if(arguments.length==1){this.x=vOrX.x;this.y=vOrX.y}else if(arguments.length==2){this.x=vOrX;this.y=y}};Vec2.prototype.clone=function(){return new Vec2(this)};Vec2.prototype.copy=Vec2.prototype.clone;Vec2.prototype.getX=function(){return this.x};Vec2.prototype.getY=function(){return this.y};Vec2.prototype.getXY=function(){return{x:this.x,y:this.y}};Vec2.prototype.set=function(vOrX,y){if(arguments.length==1){if(typeof vOrX!="object"){throw"Not an object: "+vOrX}this.x=vOrX.x;this.y=vOrX.y}else{this.x=vOrX;this.y=y}return this};Vec2.prototype.add=function(vOrX,y){if(arguments.length==1){this.x+=vOrX.x;this.y+=vOrX.y}else{this.x+=vOrX;this.y+=y}return this};Vec2.prototype.sub=function(vOrX,y){if(arguments.length==1){this.x-=vOrX.x;this.y-=vOrX.y}else{this.x-=vOrX;this.y-=y}return this};Vec2.prototype.inv=function(){this.x=-this.x;this.y=-this.y;return this};Vec2.prototype.ort=function(){return this.set(-this.y,this.x)};Vec2.prototype.scale=function(factor){this.x*=factor;this.y*=factor;return this};Vec2.prototype.dot=function(b){return this.x*b.x+this.y*b.y};Vec2.prototype.norm=function(){var l=JustMath.sqrt(this.dot(this));if(l!=0){this.x=this.x/l;this.y=this.y/l}return this};Vec2.prototype.distSq=function(b){var dx=this.x-b.x;var dy=this.y-b.y;return dx*dx+dy*dy};Vec2.prototype.dist=function(b){return JustMath.sqrt(this.distSq(b))};Vec2.prototype.dir=function(){return JustMath.atan2(this.y,this.x)};Vec2.prototype.magSq=function(){return this.dot(this)};Vec2.prototype.mag=function(){return JustMath.sqrt(this.magSq())};Vec2.prototype.rotate=function(theta){var sin=JustMath.sin(theta);var cos=JustMath.cos(theta);var x=this.x*cos-this.y*sin;this.y=this.x*sin+this.y*cos;this.x=x;return this};Vec2.prototype.project=function(b){return this.set(b.clone().scale(this.dot(b)/b.dot(b)))};Vec2.prototype.reject=function(b){return this.sub(this.clone().project(b))};Vec2.prototype.reflect=function(n){n=n.clone().norm();return this.set(n.scale(2*this.dot(n)).sub(this))};Vec2.prototype.reflectAndScale=function(n,projectFactor,rejectFactor){var p=n.clone().norm(),r=n.clone().ort().norm();return this.set(p.scale(this.dot(p)*projectFactor).add(r.scale(-this.dot(r)*rejectFactor)))};Vec2.prototype.lerp=function(p,percent){return this.add(p.clone().sub(this).scale(percent))};Vec2.prototype.inRect=function(p1,p2){return(p1.x<=this.x&&this.x<=p2.x||p1.x>=this.x&&this.x>=p2.x)&&(p1.y<=this.y&&this.y<=p2.y||p1.y>=this.y&&this.y>=p2.y)};Vec2.prototype.equals=function(b){if(!b||!(b instanceof Vec2))return false;return this.x==b.x&&this.y==b.y};Vec2.prototype.toString=function(){return"Vec2("+this.x+"/"+this.y+")"};Vec2.det=function(v1,v2){return v1.x*v2.y-v2.x*v1.y};JustMath.Vec2=Vec2;if(typeof module!="undefined"&&module["exports"]){module["exports"]=JustMath}else if(typeof define!="undefined"&&define["amd"]){define([],function(){return JustMath})}else{if(typeof global["dcodeIO"]=="undefined"){global["dcodeIO"]={}}global["dcodeIO"]["JustMath"]=JustMath}})(this,Math);